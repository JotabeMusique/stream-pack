import"./B5Qt9EMX.js";import{L as d,q as u,c as n}from"./B6qJfXvl.js";import"./DsqdWQfm.js";let a=null;const m=["bits:read","chat:read","channel:read:subscriptions","channel:read:hype_train","channel:manage:broadcast","channel:read:polls","channel:read:goals","moderator:read:chatters","moderator:read:shoutouts","moderator:read:followers","channel:read:guest_star","channel:read:ads"],h="yqiakkc9orym3jyf0ftl4dgvlobwtk";let s=window.localStorage.getItem(d+"twitchClientId")||h;const y={response_type:"token"};function _(t){const e=window.location.origin+window.location.pathname,o=document.getElementById("redirect_uri");o&&(o.textContent=e);const c={...y,client_id:t,redirect_uri:e,scope:m.join(" ")};return"https://id.twitch.tv/oauth2/authorize?"+u.stringify(c)}function g(){const t=document.getElementById("login");t.href=_(s)}function w(){const t=window.location.hash.substring(1),e=u.parse(t);e.token_type==="bearer"&&e.access_token&&(a=e.access_token)}function p(){const t=window.location.origin+window.location.pathname.substring(0,window.location.pathname.endsWith("/")?window.location.pathname.length-1:void 0);if(a){const e=u.stringify({"twitch.clientId":s,"twitch.accessToken":a}),o=document.getElementById("auth_access_token"),c=document.getElementById("source_overlay_url"),l=document.getElementById("source_music_url"),r=document.getElementById("dock_streamtitle_url");o.value=a,c.value=t+"/overlay/?"+e,l.value=t+"/music/",r.value=t+"/docks/streamTitle?"+e}}function k(t){t.target.select()}function I(t){const e=t.target.value;e?(s=e,window.localStorage.setItem(d+"twitchClientId",e)):(s=h,window.localStorage.removeItem(d+"twitchClientId")),g()}document.addEventListener("DOMContentLoaded",async()=>{g(),w(),p(),document.querySelectorAll("input").forEach(e=>{e.addEventListener("focus",k)});const t=document.getElementById("auth_client_id");t.addEventListener("change",I),t.value=s});document.querySelector("#colorschemes");const f=document.querySelector("ul.colorscheme"),E=document.querySelector("#color");Object.keys(n).forEach(t=>{Object.keys(n[t]).forEach(e=>{const o=document.importNode(E.content,!0),c=o.querySelector(".colorScheme");c.textContent=t;const l=o.querySelector(".colorName");l.textContent=e;const r=o.querySelector(".colorPreview");r.textContent=n[t][e].text,r.style.background=n[t][e].background,r.style.color=n[t][e].text;const i=o.querySelector(".colorHex");i.textContent=n[t][e].background,i.style.color=n[t][e].background,i.style.background=n[t][e].text,f.appendChild(o)})});
