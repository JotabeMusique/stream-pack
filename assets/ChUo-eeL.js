import{T as f,A as g,C as m,L as n,q as p}from"./B6qJfXvl.js";function i(t){return t.replace(/([^\s])([^\s]*)/g,(e,r,s)=>r+(s??"").toLocaleLowerCase("fr"))}function o(t){return t.replace(/^([\/.\-,_\s\]):]+)/g,"").replace(/([\/.\-,_\s(\[:]+)$/g,"")}function u(t){const e=t.match(f);return e?{category:o(e.groups?.category||""),title:o(e.groups?.title??""),subtitle:o(e.groups?.subtitle??""),suffix:e.groups?.suffix??""}:{category:"",title:t,subtitle:null,suffix:""}}function E(t){let e="";return t.category&&(e+=`[${t.category}] `),e+=t.title,t.subtitle&&(e+=` - ${t.subtitle}`),t.suffix&&(e+=` ${t.suffix}`),e}function L(t){return t.replace(g,"<strong>$&</strong>")}function T(t){if(t){const e=m.find(r=>t.match(r.regex));if(e)return e.colorscheme}return"default"}function y(t,e){const r=u(t),s=u(e);return!(i(r.category||"")!==i(s.category||"")||r.title.toLocaleLowerCase()!==s.title.toLocaleLowerCase())}const l={streamTitle:"",viewersCount:"",chattersCount:"",followersCount:"",lastFollower:"",subscriptionsCount:"",lastSubscription:""},a={twitch:{clientId:"",accessToken:""},params:{autoRecording:!1}};Object.assign(a.params,C());const c=h();function h(){try{return JSON.parse(window.localStorage.getItem(n+"cache")??"null")||l}catch{return l}}function w(){window.localStorage.setItem(n+"cache",JSON.stringify(c))}function C(){try{return JSON.parse(window.localStorage.getItem(n+"params")??"null")||{}}catch{return{}}}function S(){window.localStorage.setItem(n+"params",JSON.stringify(a.params))}function O(){const t=window.location.search,e=p.parse(t,{ignoreQueryPrefix:!0,allowDots:!0});Object.assign(a,e)}function _(t,e){c[t]=e,w()}function b(){return c}function A(){return a.twitch}function I(t,e){a.params[t]=e,S()}function x(){return a.params}export{b as a,O as b,x as c,I as d,E as f,A as g,L as h,y as i,T as m,u as p,_ as s,i as t};
